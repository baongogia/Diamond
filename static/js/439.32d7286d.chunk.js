"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[439],{4701:(e,s,t)=>{t.d(s,{A:()=>a});t(5043);var r=t(3216),c=t(579);function a(e){let{details:s}=e;console.log(s);const t=(0,r.Zp)();return(0,c.jsxs)("div",{className:"w-full flex items-center mt-5",children:[(0,c.jsx)("div",{style:{backgroundImage:"url(".concat(s.Image,")")},onClick:()=>t("/ProductPage/".concat(s.ProductID)),className:"w-36 h-36 rounded-xl bg-cover bg-center cursor-pointer"}),(0,c.jsxs)("div",{className:"font-serif ml-6",children:[(0,c.jsx)("div",{className:"text uppercase",children:s.ProductName}),(0,c.jsxs)("div",{className:"",children:["Size: ",s.CustomizedSize]}),(0,c.jsxs)("div",{className:"",children:["Material: ",s.Material]}),(0,c.jsxs)("div",{className:"",children:["Quantity: ",s.Quantity]})]})]})}},9439:(e,s,t)=>{t.r(s),t.d(s,{default:()=>f});var r=t(5043),c=t(7115),a=t.n(c),l=t(4701),n=t(3479),i=t(579);function o(){const{order:e}=(0,r.useContext)(n.A),s=e.products;return(0,r.useEffect)((()=>{a().init({once:!0,duration:2e3})}),[]),(0,i.jsx)("div",{"data-aos":"fade-left","data-aos-duration":"1500",className:"w-1/3 h-[50vh] flex justify-center items-center rounded-2xl border-[0.1em]",children:(0,i.jsxs)("div",{className:"w-[90%] h-[90%] flex flex-col justify-between",children:[(0,i.jsx)("div",{className:"text text-[1.4em] text-green-800 uppercase",children:"Order Details"}),(0,i.jsx)("div",{className:"h-1/2 overflow-auto",children:s.length>0?s.map((e=>(0,i.jsx)(l.A,{id:e.id,details:e}))):(0,i.jsx)("div",{className:""})}),(0,i.jsxs)("div",{className:"font-serif flex flex-col justify-between h-1/3",children:[(0,i.jsx)("div",{className:"",children:"Customer Name: Ngo Gia Bao"}),(0,i.jsx)("div",{className:"",children:"Phone: 0934102678"}),(0,i.jsx)("div",{className:"",children:"Address: 104 Truong Thanh, 9 district, Ho Chi Minh City"}),(0,i.jsx)("div",{className:"",children:"Expected Delivery Date: 8/6/2024"})]})]})})}var d=t(1478),m=t(2382),x=t(6213),u=t(3216),h=t(4535);function f(){const e=localStorage.getItem("OrderDate"),[s,t]=(0,r.useState)([]),{order:c,setOrder:l}=(0,r.useContext)(n.A),[f,j]=(0,r.useState)(!1),[N,g]=(0,r.useState)(!1),{paymentMethod:p}=(0,r.useContext)(h.Q),b=(0,u.Zp)();console.log(p);const y=()=>{j(!f),g(!N)};(0,r.useEffect)((()=>{fetch("https://localhost:7292/api/Products/Category/Necklaces").then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((e=>{t(e)})).catch((e=>{console.error("There has been a problem with your fetch operation:",e)}))}),[]),(0,r.useEffect)((()=>{a().init({once:!0,duration:2e3})}),[]),(0,r.useEffect)((()=>{const e=localStorage.getItem("order");e&&l(JSON.parse(e))}),[l]),(0,r.useEffect)((()=>{c&&localStorage.setItem("order",JSON.stringify(c))}),[c]);(0,r.useEffect)((()=>{const e=setInterval((()=>{c&&(async()=>{try{const e=await x.A.get("https://localhost:7292/api/Order/getOrderInfo?id=".concat(c.OrderID));e.data&&(l(e.data),console.log({response:e}))}catch(e){console.error("Failed to fetch latest order:",e)}})()}),1e3);return()=>clearInterval(e)}),[c]);const w=(e=>{switch(e){case"Cancelled":default:return 0;case"Processing":return 1;case"Accepted":return 2;case"Deliverying":case"Pending Delivery":return 3;case"Deliveried":return 4}})(null===c||void 0===c?void 0:c.OrderStatus);return c?(0,i.jsxs)("div",{className:"mt-12",children:[(0,i.jsxs)("div",{className:"w-screen flex justify-around",children:[(0,i.jsxs)("div",{"data-aos":"fade-right","data-aos-duration":"1500",className:"relative w-1/2 h-[50vh] flex justify-center items-center rounded-2xl border-[0.1em]",children:[(0,i.jsxs)("div",{className:"w-[90%] h-[90%] flex flex-col justify-between",children:[(0,i.jsx)("div",{className:"absolute top-5 right-5 text-green-700 cursor-pointer ".concat(4===w?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"," transition-opacity duration-500"),children:(0,i.jsx)("ion-icon",{size:"large",name:"copy-outline"})}),(0,i.jsxs)("div",{className:"text text-[1.4em] flex justify-between uppercase",children:[(0,i.jsxs)("div",{className:"text-green-800",children:[" ","Order Number: #".concat(null===c||void 0===c?void 0:c.OrderID)]}),(0,i.jsx)("div",{onClick:y,className:"text-[2em] h-0 -translate-y-3 translate-x-3 cursor-pointer hover:text-red-400  ".concat(w>=3||w>=4||0===w?"hidden":""),children:(0,i.jsx)("ion-icon",{name:"close-outline"})})]}),(0,i.jsx)("div",{style:{backdropFilter:"blur(1em)"},className:"absolute z-[999] rounded-2xl left-0 bottom-0 w-full h-full transform-style-preserve-3d ".concat(f?"":"rotate-y-180"," ").concat(N?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"," transition-all duration-1000 drop-shadow-xl bg-black bg-opacity-35"),children:(0,i.jsxs)("div",{className:"w-full h-full flex flex-col justify-center items-center",children:[(0,i.jsxs)("div",{className:"text-center flex flex-col items-center",children:[(0,i.jsx)("div",{className:"text text-[1.2em] mb-2 uppercase",children:"Cancel process?"}),(0,i.jsx)("div",{className:"font-serif w-[70%] mb-2",children:"Are you sure you want to cancel the following product from the cart?"})]}),(0,i.jsxs)("div",{className:"flex justify-around items-center w-[80%] mt-2",children:[(0,i.jsx)("div",{onClick:y,className:"bg-white text-center text-black w-[40%] font-semibold px-4 py-2 text uppercase\n                 hover:bg-red-400 hover:text-white border-black border-solid border-[0.08em]  cursor-pointer transition-colors duration-500",children:"cancel"}),(0,i.jsx)("div",{onClick:async()=>{try{const e=await x.A.put("https://localhost:7292/api/Order/CancelOrder?id=".concat(c.OrderID));console.log("Cancel successful!"),e&&(b("/"),l(null),localStorage.removeItem("order"))}catch(e){console.error("Cancel failed:",e)}},className:"bg-black text-center text-white w-[40%] font-semibold px-6 py-2 text uppercase hover:bg-green-700 hover:text-black border-black border-solid border-[0.08em] cursor-pointer transition-colors duration-500",children:"yes"})]})]})}),(0,i.jsxs)("div",{className:"w-full flex items-center",children:[(0,i.jsxs)("div",{className:"w-24 h-24 flex flex-col justify-center items-center rounded-full border-green-700 border-[0.1em] ".concat(w>1?"bg-green-400":1===w?"bg-yellow-400":0===w?"bg-red-400":""),children:[(0,i.jsx)("div",{className:"".concat(w>1?"hidden":""),children:(0,i.jsx)("ion-icon",{name:"bag-handle-outline"})}),(0,i.jsx)("div",{className:"".concat(w>1?"hidden":""," font-serif"),children:"Processing"}),w>1&&(0,i.jsx)("ion-icon",{name:"checkmark-circle-outline",className:"text-green-700"})]}),(0,i.jsx)("div",{className:"border-t-2 border-green-800 w-20"}),(0,i.jsxs)("div",{className:"w-24 h-24 flex flex-col justify-center items-center rounded-full border-green-700 border-[0.1em] ".concat(w>2?"bg-green-400":2===w?"bg-yellow-400":""),children:[(0,i.jsx)("div",{className:"".concat(w>2?"hidden":""),children:(0,i.jsx)("ion-icon",{name:"bag-check-outline"})}),(0,i.jsx)("div",{className:"".concat(w>2?"hidden":""," font-serif"),children:"Accepted"}),w>2&&(0,i.jsx)("ion-icon",{name:"checkmark-circle-outline",className:"text-green-700"})]}),(0,i.jsx)("div",{className:"border-t-2 border-green-800 w-20"}),(0,i.jsxs)("div",{className:"w-24 h-24 flex flex-col justify-center items-center rounded-full border-green-700 border-[0.1em] ".concat(w>3?"bg-green-400":3===w?"bg-yellow-400":""),children:[(0,i.jsx)("div",{className:"".concat(w>3?"hidden":""),children:(0,i.jsx)("ion-icon",{name:"car-sport-outline"})}),(0,i.jsx)("div",{className:"".concat(w>3?"hidden":""," font-serif"),children:"Deliverying"}),w>3&&(0,i.jsx)("ion-icon",{name:"checkmark-circle-outline",className:"text-green-700"})]}),(0,i.jsx)("div",{className:"border-t-2 border-green-800 w-20"}),(0,i.jsxs)("div",{className:"w-24 h-24 flex flex-col justify-center items-center rounded-full border-green-700 border-[0.1em] ".concat(w>=4?"bg-green-400":""),children:[(0,i.jsx)("div",{className:"".concat(w>4?"hidden":""),children:(0,i.jsx)("ion-icon",{name:"star-outline"})}),(0,i.jsx)("div",{className:"".concat(w>4?"hidden":""," font-serif"),children:"Complete"})]})]}),(0,i.jsxs)("div",{className:"w-full flex flex-col justify-between h-1/2 font-serif",children:[(0,i.jsxs)("div",{className:"",children:["Create at: ",e]}),(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsx)("div",{className:"",children:"Status:"}),(0,i.jsx)("div",{className:"ml-2 text-white bg-green-800 rounded-md px-2",children:c.OrderStatus})]}),(0,i.jsxs)("div",{className:"",children:["Price: ",c.TotalPrice.toFixed(2),"$"]}),(0,i.jsxs)("div",{className:"",children:["Discount: ",100*c.DiscountRate,"%"]}),(0,i.jsxs)("div",{className:"",children:["Total: ",c.FinalPrice.toFixed(2),"$"]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"",children:"Payment:"}),(0,i.jsx)("div",{className:"".concat("Card"===c.Payment?"bg-blue-400":"PayPal"===c.Payment?"bg-yellow-400":"Received"===c.Payment?"bg-green-800":""," rounded-md px-2 ml-2 text-white"),children:""!==c.Payment?c.Payment||p:""})]})]})]}),(0,i.jsx)("div",{className:"absolute bottom-0 translate-x-[17vw]",children:(0,i.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSfQKzLQdB9YfdlZXmfFGHXJPTuz849jMo9dvQU_zHVVWdlKGpa8ZMLKPY_NSWDL7Ej6oM&usqp=CAU",alt:"",className:"w-[85%]"})})]}),(0,i.jsx)(o,{})]}),(0,i.jsxs)("div",{className:"relative w-screen mt-36 flex flex-col justify-center items-center h-[50vh]",children:[(0,i.jsxs)("div",{className:"absolute -top-16 left-16 flex items-center text-green-800",children:[(0,i.jsx)("div",{className:"text text-[1.5em] uppercase",children:"More product"}),(0,i.jsx)("div",{className:"translate-y-[10%]",children:(0,i.jsx)("ion-icon",{size:"large",name:"chevron-forward-outline"})})]}),(0,i.jsx)("div",{"data-aos":"fade-up","data-aos-duration":"1500",className:"relative w-[92%] h-[56vh] flex justify-center items-center",children:(0,i.jsx)("div",{className:"w-full ml-3 h-full",children:(0,i.jsx)(m.A,{className:"w-full h-full",...v,children:s.slice(0,4).map((e=>(0,i.jsx)(d.A,{id:e.ProductId,img:e.Image,hovimg:e.Image,name:e.ProductName,material:e.Material,price:parseFloat(e.ProductPrice).toFixed(2),mini:!1},e.id)))})})})]})]}):(0,i.jsx)("div",{})}const v={dots:!1,infinite:!1,speed:500,slidesToShow:4,slidesToScroll:4,initialSlide:0,Swipe:!0}}}]);
//# sourceMappingURL=439.32d7286d.chunk.js.map