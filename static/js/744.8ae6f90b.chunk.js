"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[744],{4701:(e,s,t)=>{t.d(s,{A:()=>a});t(5043);var r=t(3216),c=t(579);function a(e){let{details:s}=e;console.log(s);const t=(0,r.Zp)();return(0,c.jsxs)("div",{className:"w-full flex items-center mt-5",children:[(0,c.jsx)("div",{style:{backgroundImage:"url(".concat(s.Image,")")},onClick:()=>t("/ProductPage/".concat(s.ProductID)),className:"w-36 h-36 rounded-xl bg-cover bg-center cursor-pointer"}),(0,c.jsxs)("div",{className:"font-serif ml-6",children:[(0,c.jsx)("div",{className:"text uppercase",children:s.ProductName}),(0,c.jsxs)("div",{className:"",children:["Size: ",s.CustomizedSize]}),(0,c.jsxs)("div",{className:"",children:["Material: ",s.Material]}),(0,c.jsxs)("div",{className:"",children:["Quantity: ",s.Quantity]})]})]})}},3744:(e,s,t)=>{t.r(s),t.d(s,{default:()=>v});var r=t(5043),c=t(3216),a=t(7115),i=t.n(a),n=t(6213),l=t(7832),o=t(4701),d=t(579);function m(e){let{product:s}=e;return(0,r.useEffect)((()=>{i().init({once:!0,duration:2e3})}),[]),(0,d.jsx)("div",{"data-aos":"fade-left","data-aos-duration":"1500",className:"w-1/3 h-[50vh] flex justify-center items-center rounded-2xl border-[0.1em]",children:(0,d.jsxs)("div",{className:"w-[90%] h-[90%] flex flex-col justify-between",children:[(0,d.jsx)("div",{className:"text text-[1.4em] text-green-800 uppercase",children:"Order Details"}),(0,d.jsx)("div",{className:"h-1/2 overflow-auto",children:s.length>0?s.map((e=>(0,d.jsx)(o.A,{id:e.id,details:e}))):(0,d.jsx)("div",{className:""})}),(0,d.jsxs)("div",{className:"font-serif flex flex-col justify-between h-1/3",children:[(0,d.jsx)("div",{className:"",children:"Customer Name: Ngo Gia Bao"}),(0,d.jsx)("div",{className:"",children:"Phone: 0934102678"}),(0,d.jsx)("div",{className:"",children:"Address: 104 Truong Thanh, 9 district, Ho Chi Minh City"}),(0,d.jsx)("div",{className:"",children:"Expected Delivery Date: 8/6/2024"})]})]})})}var x=t(4535),h=t(3479),u=t(2382),f=t(1478);function v(){const e=(0,c.g)().id,[s,t]=(0,r.useState)(!1),[a,o]=(0,r.useState)([]),[v,p]=(0,r.useState)(!1),{paymentMethod:N}=(0,r.useContext)(x.Q);(0,r.useEffect)((()=>{i().init({once:!0,duration:2e3})}),[]),(0,r.useEffect)((()=>{fetch("https://localhost:7292/api/Products/Category/Necklaces").then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((e=>{o(e)})).catch((e=>{console.error("There has been a problem with your fetch operation:",e)}))}),[]);const[b,g]=(0,r.useState)(null);(0,r.useEffect)((()=>{setInterval((()=>{(async()=>{try{const s=await fetch("https://localhost:7292/api/Order/getOrderInfo?id=".concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error("HTTP error! status: ".concat(s.status));const t=await s.json();console.log("API response data:",t),g(t)}catch(s){console.error("Error fetching order history:",s)}})()}),1e3)}),[e]);const{setOrder:w}=(0,r.useContext)(h.A),y=(0,c.Zp)(),k=()=>{t(!s),p(!v)};if(!b)return(0,d.jsx)("div",{className:"w-screen h-[80vh] flex justify-center items-center",children:(0,d.jsx)(l.A,{size:100,color:"#54cc26"})});const P=(e=>{switch(e){case"Cancelled":default:return 0;case"Processing":return 1;case"Accepted":return 2;case"Deliverying":case"Pending Delivery":return 3;case"Deliveried":return 4}})(null===b||void 0===b?void 0:b.OrderStatus);return(0,d.jsxs)("div",{className:"mt-12",children:[(0,d.jsxs)("div",{className:"w-screen flex justify-around",children:[(0,d.jsxs)("div",{className:"relative w-1/2 h-[50vh] flex justify-center items-center rounded-2xl border-[0.1em]",children:[(0,d.jsxs)("div",{className:"w-[90%] h-[90%] flex flex-col justify-between",children:[(0,d.jsx)("div",{className:"absolute top-5 right-5 text-green-700 cursor-pointer ".concat(4===P?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"," transition-opacity duration-500"),children:(0,d.jsx)("ion-icon",{size:"large",name:"copy-outline"})}),(0,d.jsxs)("div",{className:"text text-[1.4em] flex justify-between uppercase",children:[(0,d.jsxs)("div",{className:"text-green-800",children:[" ","Order Number: #".concat(null===b||void 0===b?void 0:b.OrderID)]}),(0,d.jsx)("div",{onClick:k,className:"text-[2em] h-0 -translate-y-3 translate-x-3 cursor-pointer hover:text-red-400  ".concat(P>=3||P>=4||0===P?"hidden":""),children:(0,d.jsx)("ion-icon",{name:"close-outline"})})]}),(0,d.jsx)("div",{style:{backdropFilter:"blur(1em)"},className:"absolute z-[999] rounded-2xl left-0 bottom-0 w-full h-full transform-style-preserve-3d ".concat(s?"":"rotate-y-180"," ").concat(v?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"," transition-all duration-1000 drop-shadow-xl bg-black bg-opacity-35"),children:(0,d.jsxs)("div",{className:"w-full h-full flex flex-col justify-center items-center",children:[(0,d.jsxs)("div",{className:"text-center flex flex-col items-center",children:[(0,d.jsx)("div",{className:"text text-[1.2em] mb-2 uppercase",children:"Cancel process?"}),(0,d.jsx)("div",{className:"font-serif w-[70%] mb-2",children:"Are you sure you want to cancel the following product from the cart?"})]}),(0,d.jsxs)("div",{className:"flex justify-around items-center w-[80%] mt-2",children:[(0,d.jsx)("div",{onClick:k,className:"bg-white text-center text-black w-[40%] font-semibold px-4 py-2 text uppercase hover:bg-red-400 hover:text-white border-black border-solid border-[0.08em] cursor-pointer transition-colors duration-500",children:"cancel"}),(0,d.jsx)("div",{onClick:async()=>{try{const s=await n.A.put("https://localhost:7292/api/Order/CancelOrder?id=".concat(e));console.log("Cancel successful!"),s&&(y("/"),w(null))}catch(s){console.error("Cancel failed:",s)}},className:"bg-black text-center text-white w-[40%] font-semibold px-6 py-2 text uppercase hover:bg-green-700 hover:text-black border-black border-solid border-[0.08em] cursor-pointer transition-colors duration-500",children:"yes"})]})]})}),(0,d.jsxs)("div",{className:"w-full flex items-center",children:[(0,d.jsxs)("div",{className:"w-24 h-24 flex flex-col justify-center items-center rounded-full border-green-700 border-[0.1em] ".concat(P>1?"bg-green-400":1===P?"bg-yellow-400":0===P?"bg-red-400":""),children:[(0,d.jsx)("div",{className:"".concat(P>1?"hidden":""),children:(0,d.jsx)("ion-icon",{name:"bag-handle-outline"})}),(0,d.jsx)("div",{className:"".concat(P>1?"hidden":""," font-serif"),children:"Processing"}),P>1&&(0,d.jsx)("ion-icon",{name:"checkmark-circle-outline",className:"text-green-700"})]}),(0,d.jsx)("div",{className:"border-t-2 border-green-800 w-20"}),(0,d.jsxs)("div",{className:"w-24 h-24 flex flex-col justify-center items-center rounded-full border-green-700 border-[0.1em] ".concat(P>2?"bg-green-400":2===P?"bg-yellow-400":""),children:[(0,d.jsx)("div",{className:"".concat(P>2?"hidden":""),children:(0,d.jsx)("ion-icon",{name:"bag-check-outline"})}),(0,d.jsx)("div",{className:"".concat(P>2?"hidden":""," font-serif"),children:"Accepted"}),P>2&&(0,d.jsx)("ion-icon",{name:"checkmark-circle-outline",className:"text-green-700"})]}),(0,d.jsx)("div",{className:"border-t-2 border-green-800 w-20"}),(0,d.jsxs)("div",{className:"w-24 h-24 flex flex-col justify-center items-center rounded-full border-green-700 border-[0.1em] ".concat(P>3?"bg-green-400":3===P?"bg-yellow-400":""),children:[(0,d.jsx)("div",{className:"".concat(P>3?"hidden":""),children:(0,d.jsx)("ion-icon",{name:"car-sport-outline"})}),(0,d.jsx)("div",{className:"".concat(P>3?"hidden":""," font-serif"),children:"Deliverying"}),P>3&&(0,d.jsx)("ion-icon",{name:"checkmark-circle-outline",className:"text-green-700"})]}),(0,d.jsx)("div",{className:"border-t-2 border-green-800 w-20"}),(0,d.jsxs)("div",{className:"w-24 h-24 flex flex-col justify-center items-center rounded-full border-green-700 border-[0.1em] ".concat(P>=4?"bg-green-400":""),children:[(0,d.jsx)("div",{className:"".concat(P>4?"hidden":""),children:(0,d.jsx)("ion-icon",{name:"star-outline"})}),(0,d.jsx)("div",{className:"".concat(P>4?"hidden":""," font-serif"),children:"Complete"})]})]}),(0,d.jsxs)("div",{className:"w-full flex flex-col justify-between h-1/2 font-serif",children:[(0,d.jsxs)("div",{className:"",children:["Create at: ",null===b||void 0===b?void 0:b.OrderDate]}),(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)("div",{className:"",children:"Status:"}),(0,d.jsx)("div",{className:"ml-2 text-white bg-green-800 rounded-md px-2",children:null===b||void 0===b?void 0:b.OrderStatus})]}),(0,d.jsxs)("div",{className:"",children:["Price: ",b.TotalPrice.toFixed(2),"$"]}),(0,d.jsxs)("div",{className:"",children:["Discount: ",100*b.DiscountRate,"%"]}),(0,d.jsxs)("div",{className:"",children:["Total: ",b.FinalPrice.toFixed(2),"$"]}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("div",{className:"",children:"Payment:"}),(0,d.jsx)("div",{className:"".concat("Card"===b.Payment?"bg-blue-400":"PayPal"===b.Payment?"bg-yellow-400":"Received"===b.Payment?"bg-green-800":""," rounded-md px-2 ml-2 text-white"),children:b.Payment||N})]})]})]}),(0,d.jsx)("div",{className:"absolute bottom-0 translate-x-[17vw]",children:(0,d.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSfQKzLQdB9YfdlZXmfFGHXJPTuz849jMo9dvQU_zHVVWdlKGpa8ZMLKPY_NSWDL7Ej6oM&usqp=CAU",alt:"",className:"w-[85%]"})})]}),(0,d.jsx)(m,{product:b.products})]}),(0,d.jsxs)("div",{className:"relative w-screen mt-36 flex flex-col justify-center items-center h-[50vh]",children:[(0,d.jsxs)("div",{className:"absolute -top-16 left-16 flex items-center text-green-800",children:[(0,d.jsx)("div",{className:"text text-[1.5em] uppercase",children:"More product"}),(0,d.jsx)("div",{className:"translate-y-[10%]",children:(0,d.jsx)("ion-icon",{size:"large",name:"chevron-forward-outline"})})]}),(0,d.jsx)("div",{"data-aos":"fade-up","data-aos-duration":"1500",className:"relative w-[92%] h-[56vh] flex justify-center items-center",children:(0,d.jsx)("div",{className:"w-full ml-3 h-full",children:(0,d.jsx)(u.A,{className:"w-full h-full",...j,children:a.slice(0,4).map((e=>(0,d.jsx)(f.A,{id:e.ProductId,img:e.Image,hovimg:e.Image,name:e.ProductName,material:e.Material,price:parseFloat(e.ProductPrice).toFixed(2),mini:!1},e.id)))})})})]})]})}const j={dots:!1,infinite:!1,speed:500,slidesToShow:4,slidesToScroll:4,initialSlide:0,Swipe:!0}}}]);
//# sourceMappingURL=744.8ae6f90b.chunk.js.map