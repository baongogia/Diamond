"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[790],{8822:(e,a,t)=>{t.d(a,{A:()=>m,x:()=>d});var s=t(5043),r=t(5447),o=t(8773),n=t(6213),l=t(1229),i=t(3216),c=t(579);const d="955907912121-a20eup8a861i31euts7sdp2nqq6dgmot.apps.googleusercontent.com";const m=function(){const{login:e}=(0,s.useContext)(l.R),a=(0,i.Zp)();(0,s.useEffect)((()=>{o.GP.load("client:auth2",(function(){o.GP.client.init({clientId:d,scope:""})}))}),[]);const t=(0,r.mg)({onSuccess:async t=>{try{const s=(await n.A.get("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:"Bearer ".concat(t.access_token)}})).data;localStorage.setItem("userData",JSON.stringify({data:s})),localStorage.setItem("isLoggedIn","true"),e(s),a("/UserProfile")}catch(s){console.error("Failed to fetch user data: ",s)}}});return(0,c.jsx)("div",{onClick:()=>t(),className:"bg-black text-center text-white w-[16vw] font-semibold px-4 py-2 hover:bg-white hover:text-black border-black border-solid border-[0.1em] cursor-pointer transition-colors duration-500",children:(0,c.jsx)("div",{className:"font-serif",children:"Login With Google"})})}},7790:(e,a,t)=>{t.r(a),t.d(a,{default:()=>p});var s=t(5043),r=t(6213),o=t(2813);const n=(0,t(7064).Wp)({apiKey:"AIzaSyBI8gUVNR62q2fsKzQQYdMeUJch7HW3I08",authDomain:"diamond-8583b.firebaseapp.com",projectId:"diamond-8583b",storageBucket:"diamond-8583b.appspot.com",messagingSenderId:"730204751845",appId:"1:730204751845:web:bc2a404f76fe2eb365510c",measurementId:"G-R6M4E2F2G5"}),l=(0,o.xI)(n);var i=t(579);const c=e=>{let{type:a,label:t,placeholder:s,value:r,onChange:o,name:n,error:l}=e;return(0,i.jsx)("div",{className:"",children:(0,i.jsxs)("label",{className:"block mb-8",children:[(0,i.jsx)("span",{className:"block text-sm text-zinc-700 opacity-60",children:t}),(0,i.jsx)("input",{type:a,required:!0,placeholder:s,className:"peer ... outline-none border-b-[0.1em] border-b-black bg-zinc-300 bg-opacity-0 w-full h-[2em]",value:r,onChange:o,name:n}),l&&(0,i.jsx)("span",{className:"text-red-500 text-xs",children:l})]})})};function d(){const[e,a]=(0,s.useState)({Username:"",Password:"",FirstName:"",LastName:"",Gender:"",Birthday:"",Email:"",PhoneNumber:"",Address:""}),[t,n]=(0,s.useState)({}),[d,m]=(0,s.useState)(""),[u,h]=(0,s.useState)(""),[p,b]=(0,s.useState)(!1),x=s=>{const{name:r,value:o,type:l,checked:i}=s.target;"confirmPassword"===r?m(o):"PreferredLanguage"===r?h(o):"marketingConsent"===r?b(!p):(a({...e,[r]:"checkbox"===l?i:o}),n({...t,[r]:""}))};return(0,i.jsx)("div",{className:"w-2/3 h-full bg-zinc-300 bg-opacity-15",children:(0,i.jsx)("div",{className:"flex justify-center font-serif text-sm",children:(0,i.jsxs)("div",{className:"absolute top-10 font-serif flex items-center flex-col w-full",children:[(0,i.jsxs)("div",{className:"w-1/4 mb-4",children:[(0,i.jsx)("label",{htmlFor:"",className:"text-zinc-700 opacity-60",children:"Title"}),(0,i.jsxs)("div",{className:"w-[70%] flex justify-between",children:[(0,i.jsx)("input",{type:"radio",name:"Gender",value:"Male",onChange:x}),(0,i.jsx)("label",{htmlFor:"Mr",children:"Mr"}),(0,i.jsx)("input",{type:"radio",name:"Gender",value:"Female",onChange:x}),(0,i.jsx)("label",{htmlFor:"Mrs",children:"Mrs"}),(0,i.jsx)("input",{type:"radio",name:"Gender",value:"Female",onChange:x}),(0,i.jsx)("label",{htmlFor:"Miss",children:"Miss"})]})]}),(0,i.jsxs)("form",{className:"w-1/4",onSubmit:async a=>{a.preventDefault();const t=(()=>{const a={};return e.FirstName||(a.FirstName="First Name is required"),e.LastName||(a.LastName="Last Name is required"),e.Username||(a.Username="Username is required"),e.Email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.Email)||(a.Email="Invalid email address"):a.Email="Email is required",e.PhoneNumber?/^\d{10,15}$/.test(e.PhoneNumber)||(a.PhoneNumber="Invalid phone number"):a.PhoneNumber="Phone Number is required",e.Password?/^(?=.*[A-Z])(?=.*\d).{5,}$/.test(e.Password)||(a.Password="Password must be at least 5 characters long, contain at least one uppercase letter, and one number"):a.Password="Password is required",e.Password!==d&&(a.confirmPassword="Passwords do not match"),a})();if(Object.keys(t).length>0)n(t);else try{const a=await r.A.post("https://localhost:7292/api/Accounts/register",e);console.log("Registration successful!",a.data);const t=(await(0,o.eJ)(l,e.Email,e.Password)).user;await(0,o.gA)(t),alert("Verification email sent. Please check your inbox."),window.location.reload()}catch(s){console.error("Registration failed:",s),s.response&&s.response.data?alert("Registration failed: ".concat(s.response.data.message)):alert(s.message)}},children:[(0,i.jsx)(c,{type:"text",label:"First Name*",placeholder:"GIA",value:e.FirstName,onChange:x,name:"FirstName",error:t.FirstName}),(0,i.jsx)(c,{type:"text",label:"Last Name*",placeholder:"BAO",value:e.LastName,onChange:x,name:"LastName",error:t.LastName}),(0,i.jsxs)("div",{className:"flex flex-col mb-3",children:[(0,i.jsx)("label",{htmlFor:"birthday",className:"text-zinc-700 opacity-60 mb-2",children:"Date Of Birth"}),(0,i.jsx)("input",{type:"date",id:"birthday",name:"Birthday",max:"2023-12-31",className:"w-full outline-none bg-zinc-300 bg-opacity-0",value:e.Birthday,onChange:x}),t.Birthday&&(0,i.jsx)("span",{className:"text-red-500 text-xs",children:t.Birthday})]}),(0,i.jsx)(c,{type:"text",label:"Email*",placeholder:"your@gmail.com",value:e.Email,onChange:x,name:"Email",error:t.Email}),(0,i.jsx)(c,{type:"text",label:"Phone Number*",placeholder:"0123456789",value:e.PhoneNumber,onChange:x,name:"PhoneNumber",error:t.PhoneNumber}),(0,i.jsx)(c,{type:"text",label:"Username*",placeholder:"your_username",value:e.Username,onChange:x,name:"Username",error:t.Username}),(0,i.jsx)(c,{type:"password",label:"Password*",placeholder:"*****",value:e.Password,onChange:x,name:"Password",error:t.Password}),(0,i.jsx)(c,{type:"password",label:"Confirm Password*",placeholder:"*****",value:d,onChange:x,name:"confirmPassword",error:t.confirmPassword}),(0,i.jsx)("label",{className:"",children:"Preferred Language"}),(0,i.jsx)("input",{type:"text",list:"myList",className:"w-full outline-none bg-zinc-300 bg-opacity-0",placeholder:"English",value:u,onChange:x,name:"PreferredLanguage"}),(0,i.jsx)("datalist",{id:"myList",children:(0,i.jsx)("option",{value:"English"})}),(0,i.jsx)("div",{className:"mt-4 mb-4",children:"For further information about how we use your personal information, please see our Privacy Policy"}),(0,i.jsxs)("div",{className:"",children:[(0,i.jsx)("input",{type:"checkbox",id:"marketingConsent",name:"marketingConsent",onChange:x,value:p}),(0,i.jsx)("label",{htmlFor:"marketingConsent",className:"ml-3",children:"I would also like to receive marketing information about Eternity\u2019s products or services."})]}),(0,i.jsx)("div",{className:"w-full mt-10 flex justify-center items-center",children:(0,i.jsx)("button",{type:"submit",className:"bg-black text-center text-white w-full font-semibold px-4 py-2 hover:bg-white\n                 hover:text-black border-black border-solid border-[0.1em] cursor-pointer transition-colors duration-500 ".concat(p?"opacity-100":"opacity-50 pointer-events-none"),children:"Create Account"})})]})]})})})}var m=t(8822),u=t(1229),h=t(3216);function p(){const[e,a]=(0,s.useState)(!1),[t,o]=(0,s.useState)(!1),[n,l]=(0,s.useState)(!1),[p,b]=(0,s.useState)(!1),[x,f]=(0,s.useState)(""),[g,y]=(0,s.useState)(""),{login:v}=(0,s.useContext)(u.R);(0,s.useEffect)((()=>{window.scrollTo(0,0)}));const w=(0,h.Zp)();r.A.interceptors.request.use((e=>{const a=localStorage.getItem("authToken");return a&&(e.headers.Authorization="Bearer ".concat(a)),e}),(e=>Promise.reject(e)));const j=()=>{l(!n),b(!p)};return(0,i.jsxs)("div",{className:"relative z-[0] pointer-events-auto w-[100vw] mt-16",children:[(0,i.jsx)("div",{className:"w-full flex justify-center mb-8",children:(0,i.jsxs)("div",{className:"w-1/2 flex justify-between",children:[(0,i.jsx)("div",{onClick:()=>{a(!1),o(!1)},className:"font-bold ".concat(t?"":"underline"," hover:underline uppercase cursor-pointer text-[1.6em]"),children:"Already registed?"}),(0,i.jsx)("div",{onClick:()=>{a(!0),o(!0)},className:"font-bold ".concat(t?"underline":""," hover:underline uppercase cursor-pointer text-[1.6em]"),children:"Create your account"})]})}),(0,i.jsx)("div",{className:"relative w-full flex justify-center ".concat(e?"":"h-[70vh]"),children:(0,i.jsxs)("div",{className:"bg-zinc-300 bg-opacity-15 w-2/3 ".concat(""," flex justify-center"),children:[(0,i.jsx)("div",{className:"font-serif mt-10 text-start w-[37.5%]",children:e?"This space allows you to manage your personal information, e-Boutique orders, news updates and newsletter subscriptions.":"If you are already registed with Eternity, login here:"}),(0,i.jsx)("div",{className:"absolute top-28 font-serif flex items-center flex-col w-full ".concat(e?"hidden":""),children:(0,i.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async(e,a)=>{try{const t=await r.A.post("https://localhost:7292/api/Accounts/login",{username:e,password:a}),s=t.data.CustomerInfo,o=s.Token;localStorage.setItem("userData",JSON.stringify({data:s})),localStorage.setItem("token",o),localStorage.setItem("isLoggedIn","true"),v(s),w("/UserProfile"),console.log("Login successful!"),console.log(t.data)}catch(t){console.error("Login failed:",t)}})(x,g)},className:"w-1/4",children:[(0,i.jsxs)("label",{className:"block mb-8",children:[(0,i.jsx)("span",{className:"block text-sm text-zinc-700 opacity-60",children:"Username"}),(0,i.jsx)("input",{type:"text",value:x,onChange:e=>f(e.target.value),required:!0,placeholder:"your_username",className:"peer ... outline-none border-b-[0.1em] border-b-black bg-zinc-300 bg-opacity-0 w-full"})]}),(0,i.jsxs)("label",{className:"block",children:[(0,i.jsx)("span",{className:"block text-sm text-zinc-700 opacity-60",children:"Password"}),(0,i.jsx)("input",{type:"password",value:g,onChange:e=>y(e.target.value),required:!0,placeholder:"*******",className:"peer ... outline-none border-b-[0.1em] border-b-black bg-zinc-300 bg-opacity-0 w-full"})]}),(0,i.jsx)("div",{onClick:j,className:"underline mt-8 cursor-pointer",children:"Forgot your password?"}),(0,i.jsx)("div",{className:"mt-3",children:"Read the Privacy Policy for further information"}),(0,i.jsxs)("div",{className:"w-full mt-14 flex flex-col justify-center items-center",children:[(0,i.jsx)("button",{type:"submit",className:"bg-black text-center text-white w-[63%] font-semibold px-4 py-2 hover:bg-white hover:text-black border-black border-solid border-[0.1em] cursor-pointer transition-colors duration-500",children:"Login"}),(0,i.jsx)("div",{className:"mt-2",children:"Or"}),(0,i.jsx)("div",{className:"mt-2",children:(0,i.jsx)(m.A,{})})]})]})})]})}),(0,i.jsx)("div",{className:"relative font-serif flex items-center flex-col w-full h-[60em] ".concat(e?"":"hidden"),children:(0,i.jsx)(d,{})}),(0,i.jsxs)("div",{className:"absolute top-1/3 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[40vw] h-[45vh] bg-white border-t-green-700 border-t-[0.5em] ".concat(n?"opacity-100 scale-100":"opacity-0 scale-0"," transition-all duration-500 flex flex-col items-center"),children:[(0,i.jsxs)("div",{className:"relative w-full h-1/6 border-b-[0.1em] border-b-black border-opacity-15",children:[(0,i.jsx)("div",{className:"flex h-full justify-center items-center text uppercase text-center text-[1.5em]",children:"forgot your password"}),(0,i.jsx)("div",{onClick:j,className:"absolute top-3 right-3 cursor-pointer opacity-50",children:(0,i.jsx)("ion-icon",{size:"large",name:"close-outline"})})]}),(0,i.jsxs)("div",{className:"h-[70%] w-[64%] flex flex-col justify-around items-center",children:[(0,i.jsx)("div",{className:"font-serif",children:"Provide your account email address to receive an email to reset your password."}),(0,i.jsx)("div",{className:"w-full",children:c("text","","Email address*")}),(0,i.jsx)("div",{className:"bg-black text-center text-white w-[63%] font-semibold px-4 py-2 uppercase text hover:bg-white hover:text-black border-black border-solid border-[0.1em] cursor-pointer transition-colors duration-500",children:"submit request"})]})]}),(0,i.jsx)("div",{className:"w-screen h-screen z-[-1] transition-opacity duration-500 ".concat(p?"opacity-100":"opacity-0"," pointer-events-none bg-black bg-opacity-20 fixed top-0 left-0")})]})}}}]);
//# sourceMappingURL=790.92d6467e.chunk.js.map